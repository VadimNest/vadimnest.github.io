import{_ as F,C as u,g as A,h as P,i as w,j as y,k as z,l as B}from"./VUcNXDAA.js";import{m as k,q as v,p as G,o as I}from"./DRVzkRDd.js";const j=k({__name:"galaxy",setup(R){const n={count:1e5,size:.01,radius:5,branches:5,spin:.7,randomness:.2,randomnessPower:3,insideColor:"#ff6030",outsideColor:"#1b3984"};let a=null,t=null,l=null,e=null;const s=o=>{l!==null&&(a==null||a.dispose(),t==null||t.dispose(),o.remove(l)),a=new P;const i=new Float32Array(n.count*3),r=new Float32Array(n.count*3),g=new u(n.insideColor),M=new u(n.outsideColor);for(let h=0;h<n.count;h++){const d=h*3,m=Math.random()*n.radius,p=m*n.spin,C=h%n.branches/n.branches*Math.PI*2,x=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1),_=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1),b=Math.pow(Math.random(),n.randomnessPower)*(Math.random()<.5?1:-1);i[d]=Math.cos(C+p)*m+x,i[d+1]=_,i[d+2]=Math.sin(C+p)*m+b;const c=g.clone();c.lerp(M,m/n.radius),r[d]=c.r,r[d+1]=c.g,r[d+2]=c.b}a.setAttribute("position",new w(i,3)),a.setAttribute("color",new w(r,3)),t=new y({size:n.size,sizeAttenuation:!0,depthWrite:!1,blending:z,vertexColors:!0}),l=new B(a,t),o.add(l)},f=({scene:o,renderer:i})=>{o.background=new u("#0a0a1a"),s(o),e=new A({width:360}),e.add(n,"count").min(100).max(5e5).step(100).onFinishChange(()=>s(o)),e.add(n,"size").min(.001).max(.1).step(.001).onFinishChange(()=>s(o)),e.add(n,"radius").min(.01).max(20).step(.01).onFinishChange(()=>s(o)),e.add(n,"branches").min(2).max(20).step(1).onFinishChange(()=>s(o)),e.add(n,"spin").min(-5).max(5).step(.001).onFinishChange(()=>s(o)),e.add(n,"randomness").min(0).max(2).step(.001).onFinishChange(()=>s(o)),e.add(n,"randomnessPower").min(1).max(10).step(.001).onFinishChange(()=>s(o)),e.addColor(n,"insideColor").onFinishChange(()=>s(o)),e.addColor(n,"outsideColor").onFinishChange(()=>s(o))};return v(()=>{e&&e.destroy(),l&&(a==null||a.dispose(),t==null||t.dispose())}),(o,i)=>{const r=F;return I(),G(r,{ref:"threeContainer","camera-position":[-10,5,10],"custom-animation":"",onSceneReady:f},null,512)}}});export{j as default};
